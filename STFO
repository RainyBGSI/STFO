local Window = Rayfield:CreateWindow({
   Name = "STS Script By Rainy",
   Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "Loading...",
   LoadingSubtitle = "STFO Script",
   Theme = "Default", -- Check https://docs.sirius.menu/rayfield/configuration/themes

   ToggleUIKeybind = "L", -- The keybind to toggle the UI visibility (string like "K" or Enum.KeyCode)

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = false,
      FolderName = nil, -- Create a custom folder for your hub/game
      FileName = "STFOConfig"
   },

   Discord = {
      Enabled = false, -- Prompt the user to join your Discord server if their executor supports it
      Invite = "noinvitelink", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
      RememberJoins = true -- Set this to false to make them join the discord every time they load it up
   },

   KeySystem = false, -- Set this to true to use our key system
   KeySettings = {
      Title = "Untitled",
      Subtitle = "Key System",
      Note = "No method of obtaining the key is provided", -- Use this to tell the user how to get a key
      FileName = "Key", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
      SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
      GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
      Key = {"Hello"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
   }
})

local worldList = {
    ["Green Grasslands"] = "1",
    ["Duodox Desert"] = "2",
    ["Jujube Jungle"] = "3",
    ["Gum Gum Gust"] = "4",
    ["Rocky Rampage"] = "5",
    ["Crystal Cave"] = "6",
    ["Vigilante Village"] = "7",
    ["Neo Neo Nexus"] = "8",
    ["Withered Waters"] = "9",
    ["Fort Frigundia"] = "10",
    ["Camp Clumbus"] = "11",
    ["Santa Salura"] = "12",
    ["Fortuna Fungus"] = "13",
    ["Sakura Shrine"] = "14",
    ["Volcano Something"] = "15",
    ["Childhood Playroom"] = "16",
    ["Up In The Clouds"] = "17",
    ["Pirate Hideout"] = "18",
    ["Shivered Skylands"] = "Cloudy",
    ["Collector's Hub"] = "Collectors",
    ["The Hub"] = "Hub",
    ["Lagoon"] = "Lagoon",
    ["Portal Chamber"] = "Portals",
    ["Shroom Island"] = "Shroom_Island",
    ["Sour Swamp"] = "Swamp",
    -- [""] = "",
}

local selectedWorldValue = nil

local isTeleporting = false

-- game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WorldTeleport"):FireServer()

-- NOTIF:

-- Players.LocalPlayer.PlayerGui.Main Interface.Frames.Notifications.Visible

local caseList = {
    ["Beginner Case"] = "Case_1",
    ["Vengful Case"] = "Case_2",
    ["Void Case"] = "Case_3",
    ["RGB Toy Case"] = "Case_4",
    ["The Rock Family"] = "Case_5",
    ["Crystallic Treasures"] = "Case_6",
    ["A Sheriff's Equipment!"] = "Case_7",
    ["Neo Neo Tempus"] = "Case_8",
    ["Burried Treasure"] = "Case_9",
    ["Negative Degrees"] = "Case_10",
    ["My Camping Equipment"] = "Case_11",
    ["Sunday Delight"] = "Case_12",
    ["Shroooooooms"] = "Case_13",
    ["Sakura Case"] = "Case_14",
    ["Volcanic Case"] = "Case_15",
    ["Toy Box"] = "Case_16",
    ["Stealing From The Gods"] = "Case_17",
    ["Case_18"] = "Case_18",
    ["Neon Red Dilemma"] = "Kill_Case_1",
    ["The Lost Souls"] = "Kill_Case_2",
    ["Burning Souls"] = "Kill_Case_3",
    ["X Marks The Spot"] = "Kill_Case_4",
    ["Shiny Rocks"] = "Diamond_Case_1",
    ["Neo Neo Crazy"] = "Diamond_Case_2",
    ["Diamond_Case_3"] = "Diamond_Case_3",
    ["Green or Pink?"] = "Diamond_Case_4",
    ["Freeeee"] = "Free_Case_1",
    ["The Lost Treasure"] = "Free_Case_2",
    -- [""] = "",
}

local selectedCaseValue = nil

local isAutoOpeningCase = false


local Players = game:GetService("Players")

local player = Players.LocalPlayer

local notificationsValue = player.WaitForChild("PlayerGui"):WaitForChild("Main Interface").Frames.Notifications

local Tab = Window:CreateTab("Cases", "briefcase") -- Title, Image

local Section = Tab:CreateSection("Auto Open Cases")

local Dropdown = Tab:CreateDropdown({
   Name = "Select Case",
   Options = {"Beginner Case",
            "Vengful Case",
            "Void Case",
            "RGB Toy Case",
            "The Rock Family",
            "Crystallic Treasures",
            "A Sheriff's Equipment!",
            "Neo Neo Tempus",
            "Burried Treasure",
            "Negative Degrees",
            "My Camping Equipment",
            "Sunday Delight",
            "Shroooooooms",
            "Sakura Case",
            "Volcanic Case",
            "Toy Box",
            "Stealing From The Gods",
            "Case_18",
            "Neon Red Dilemma",
            "The Lost Souls",
            "Burning Souls",
            "X Marks The Spot",
            "Shiny Rocks",
            "Neo Neo Crazy",
            "Diamond_Case_3",
            "Green or Pink?",
            "Freeeee",
            "The Lost Treasure",
        },
   CurrentOption = {"None"},
   MultipleOptions = false,
   Flag = "Dropdown1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
   Callback = function(Option)
            local selected = typeof(Option) == "table" and Option[1] or Option
            selectedCaseValue = caseList[selected]
            print(selectedCaseValue)
            task.wait()
        end
})

local Toggle = Tab:CreateToggle({
   Name = "Enable Auto Open",
   CurrentValue = false,
   Flag = "Toggle1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
   Callback = function(Value)
    isAutoOpeningCase = Value
    if isAutoOpeningCase then
        task.spawn(function()
            while isAutoOpeningCase do
                if selectedCaseValue then
                    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("OpenCase"):FireServer(selectedCaseValue)
                end
                task.wait()
            end
        end)
    end
end
})

local Toggle = Tab:CreateToggle({
   Name = "Disable Sword Notifications",
   CurrentValue = false,
   Flag = "Toggle1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
   Callback = function(Value)
            getgenv().disableNotif = Value
            if getgenv().disableNotif == true then
                notificationsValue.Visible = false
            elseif getgenv().disableNotif == false then
                notificationsValue.Visible = true
            end
            end
   end
})

local Tab = Window:CreateTab("Teleports", "land-plot") -- Title, Image

local Section = Tab:CreateSection("Teleport")

local Dropdown = Tab:CreateDropdown({
   Name = "Select World",
   Options = {"Green Grasslands",
            "Duodox Desert",
            "Jujube Jungle",
            "Gum Gum Gust",
            "Rocky Rampage",
            "Crystal Cave",
            "Vigilante Village",
            "Neo Neo Nexus",
            "Withered Waters",
            "Fort Frigundia",
            "Camp Clumbus",
            "Santa Salura",
            "Fortuna Fungus",
            "Sakura Shrine",
            "Volcano Something",
            "Childhood Playroom",
            "Up In The Clouds",
            "Pirate Hideout",
            "Shivered Skylands",
            "Collector's Hub",
            "The Hub",
            "Lagoon",
            "Portal Chamber",
            "Shroom Island",
            "Sour Swamp",
        },
   CurrentOption = {"None"},
   MultipleOptions = false,
   Flag = "Dropdown1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
   Callback = function(Option)
            local selected = typeof(Option) == "table" and Option[1] or Option
            selectedWorldValue = worldList[selected]
            print(selectedWorldValue)
            task.wait()
        end
})

local Button = Tab:CreateButton({
   Name = "Teleport to Area",
   Callback = function(Value)
            if isTeleporting then
                task.spawn(function()
                    if selectedWorldValue do
                        game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WorldTeleport"):FireServer(selectedWorldValue)
                    end
                    task.wait()
                end)
            end
        end 
   end
})
